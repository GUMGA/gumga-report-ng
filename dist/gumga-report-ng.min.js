!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function i(e,t,n,i,o,r,a){function s(e,t){e&&t&&Object.keys(e).forEach(function(n){e[n]instanceof Object?s(e[n],t[n]):t[n]&&(e[n]=t[n])})}var c=this,u={},l={};c.options=c.options||{appearance:{fullScreenMode:!1},height:"940px"};var d=function(e){e.onCreateReport=function(e){if(u&&u.jsonReport){new t.Stimulsoft.Report.StiReport;e.isWizardUsed=!1,e.report=entity.name.definition,e.report.reportFile=entity.name}}},f=function(e){e.onBeginProcessData=function(e){r.isEnableOi()}},p=function(e){e.onSaveReport=function(e){e.report.reportName=e.fileName,e.report.reportAlias=e.fileName;var t=e.report.saveToJsonString();c.entity.name=e.fileName,c.entity.definition=t,r.save(c.entity).then(function(e){c.onSave&&c.onSave({$value:e.data.data})})}},g=function(){StiOptions.WebServer.url=r.connectionLocal,StiOptions.Services._databases=[],c.databases||(c.databases="postgresql,mysql,oracle"),c.databases.includes("postgresql")&&StiOptions.Services._databases.add(new Stimulsoft.Report.Dictionary.StiPostgreSQLDatabase),c.databases.includes("mysql")&&StiOptions.Services._databases.add(new Stimulsoft.Report.Dictionary.StiMySqlDatabase),c.databases.includes("oracle")&&StiOptions.Services._databases.add(new Stimulsoft.Report.Dictionary.StiOracleDatabase)};e.configureEntity=function(){if(c.entity){g();var e=new t.Stimulsoft.Designer.StiDesignerOptions;s(e,c.options);var n=new t.Stimulsoft.Designer.StiDesigner(e,"StiDesigner",!1),i=new t.Stimulsoft.Report.StiReport;if(c.entity.id)i.load(c.entity.definition);else{var o=new Stimulsoft.Report.Dictionary.StiMySqlDatabase("Security Local","","jdbc:mysql://localhost:3306/security?zeroDateTimeBehavior=convertToNull; user = root; password = senha;",!1);i.dictionary.databases.clear(),i.dictionary.databases.add(o),i.dictionary.synchronize()}i.dictionary.variable=l,p(n),d(n),f(n),n.report=i,r.licenseKey()&&(t.Stimulsoft.Base.StiLicense.key=r.licenseKey()),n.renderHtml("designer")}},e.init=function(t){o(function(){t?c.entity=t:r.getNew().then(function(e){c.entity=e.data}),e.configureEntity()})},e.configureEntityViewer=function(){if(c.entity){StiOptions.WebServer.url=r.connectionLocal;var e=new t.Stimulsoft.Viewer.StiViewer(null,"StiViewer",!1),n=new t.Stimulsoft.Report.StiReport;n.load(c.entity.definition),n.dictionary.variable=c.variables,f(e),e.report=n,e.renderHtml("viewer")}},e.initViewer=function(t){o(function(){t?c.entity=t:r.getNew().then(function(e){c.entity=e.data}),e.configureEntityViewer()})},c.updateReport=function(t){c.viewer?e.initViewer(t):e.init(t)},c.$onChanges=function(e){e.viewer&&e.viewer.currentValue&&c.entity&&c.updateReport(c.entity),e.entity&&e.entity.currentValue&&e.entity.currentValue.id&&c.updateReport(e.entity.currentValue)},e.$watch("$ctrl.options",function(t){e.configureEntity()},!0)}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=["$scope","$window","gumgaController","$q","$timeout","$gumgaReport","$attrs"];var o=n(3),r={bindings:{viewer:"<?",entity:"<",onSave:"&?",options:"<?",databases:"<?",additionalFilter:"<?"},templateUrl:o,controller:i};t.default=r},function(e,t,n){"use strict";function i(){return{$get:["GumgaRest","$http",function(e,t){var n=this;n._isEmpty=function(e){return void 0==e||null==e},n._APILocation=n._APILocation||window.APILocation,n._token=n._token||sessionStorage.getItem("token")||localStorage.getItem("token"),n._licenseKey=n._licenseKey||void 0,n._enableOi=n._isEmpty(n._enableOi)||n._enableOi;var i=new e(n._APILocation.apiLocation+"/api/gumgareport");return i.connectionLocal=n._APILocation.apiLocation+"/api/genericreport/reportconnection?gumgaToken="+n._token,i.getNew=function(){return t.get(n._APILocation.apiLocation+"/api/gumgareport/new")},i.licenseKey=function(){return n._licenseKey},i.isEnableOi=function(){return n._enableOi},i}],setAPILocation:function(e){this._APILocation=e},getAPILocation:function(e){return this._APILocation},setToken:function(e){this._token=e},getToken:function(e){return this._token},setLicenseKey:function(e){this._licenseKey=e},getLicenseKey:function(e){return this._licenseKey},enableOi:function(){this._enableOi=!0},disableOi:function(){this._enableOi=!1}}}Object.defineProperty(t,"__esModule",{value:!0}),i.$inject=[],t.default=angular.module("gumga.report.provider",[]).provider("$gumgaReport",i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=n(0),r=i(o),a=n(1);i(a);e.exports=angular.module("gumga.report",["gumga.report.provider"]).component("gumgaReport",r.default)},function(e,t){var n="/gumga-report.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div>\n\t<div ng-show="!$ctrl.viewer">\n\t\t<div id="designer"></div>\n\t</div>\n\n\t<div ng-show="$ctrl.viewer">\n\t\t<div id="viewer"></div>\n\t</div>\n\t<link rel="stylesheet" id="gumga-report-stylesheet">\n</div>')}]),e.exports=n}]);