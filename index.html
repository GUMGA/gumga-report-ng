<!DOCTYPE html>
<html ng-app="app">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<title>ng-report</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
		crossorigin="anonymous">
	<!--<link rel="stylesheet" href="src/stimulsoft/css/stimulsoft.designer.office2013.darkgraycarmine.css">-->
</head>

<body ng-controller="ctrl"><br><br>

	<style media="screen">
		body {
			background: #f5f5f5;
		}
	</style>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
	<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
	<script type="text/javascript" src="dist/gumga-report-ng.js"></script>
	<script src="node_modules/gumga-rest-ng/dist/gumga-rest.min.js"></script>
	<script src="node_modules/gumga-controller-ng/dist/gumga-controller.min.js"></script>
	<script src="node_modules/gumga-form-ng/dist/gumga-form.min.js"></script>

	<script src="dist/stimulsoft/js/stimulsoft.reports.pack.js"></script>
	<script src="dist/stimulsoft/js/stimulsoft.viewer.pack.js"></script>
	<script src="dist/stimulsoft/js/stimulsoft.designer.pack.js"></script>

	<link rel="stylesheet" href="dist/stimulsoft/css/stimulsoft.designer.office2013.darkgrayteal.css">
	<link rel="stylesheet" href="dist/stimulsoft/css/stimulsoft.viewer.office2013.darkgrayteal.css">


	<script type="text/javascript">
      var api = "http://192.168.112.227:8086/gileadeweb-api"
      angular.module('app', ['ngGumgaReport', 'gumga.rest', 'gumga.controller'])
      .config(function ($httpProvider, $gumgaReportProvider) {
        $gumgaReportProvider.setAPILocation({apiLocation:api})
        $gumgaReportProvider.setToken('eterno')
        $httpProvider.defaults.headers.common['gumgaToken'] = 'eterno'
      })
      .controller('ctrl', function($scope, $timeout, $http){
        $scope.carrega1 = function() {
            $http.get(api + '/api/gumgareport/' + $scope.id).then(function(resp) {
              $scope.gumgareport = resp.data
            })
        }
				$http.get(api + '/api/gumgareport/9').then(function(resp) {
              $scope.gumgareport = resp.data
            })
				$scope.options = {height: '940px'}
				$scope.altera = function(height) {
					console.log(height)
					$scope.options.height = height
				}
				$scope.mostra = function(value) {
					console.log("aqui",value)
				} 
      })

      
    </script>
    <header>
      id: <input type="text" class="form-control" ng-model="id">
      <button class="btn btn-success" ng-click="carrega1()">Carregar 1</button>
      <button class="btn btn-success" ng-click="visualizacao = !visualizacao">visualizacao</button>
			<button class="btn btn-success" ng-click="altera('500px')">Altera opções 500</button>
			<button class="btn btn-success" ng-click="altera('900px')">Altera opções 900</button>
    </header>
	<main>
		<gumga-report entity="gumgareport" viewer="visualizacao" on-save="mostra($value)" options="options"></gumga-report>
	</main>


</body>

</html>